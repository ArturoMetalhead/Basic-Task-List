{% extends "TaskListApp/base.html" %}
{% load static %}

{% block title %}TaskList{% endblock %}


{% block content %}


<div class="card my-2 p-3">
    <div class="d-flex align-items-center">
      <input type="text" class="form-control me-2" id="taskInput" placeholder="Add a new task">
      <button class="btn btn-outline-secondary me-1" id="cancelBtn" disabled>
        <i data-feather="x"></i>
      </button>
      <button class="btn btn-outline-primary me-1" id="okBtn" disabled>
        <i data-feather="check"></i>
      </button>
    </div>
</div>

<script>
    const input = document.getElementById('taskInput');
    const okBtn = document.getElementById('okBtn');
    const cancelBtn = document.getElementById('cancelBtn');
  
    input.addEventListener('input', () => {
      if (input.value.trim() === "") {
        okBtn.disabled = true;
        cancelBtn.disabled = false;
      } else {
        okBtn.disabled = false;
        cancelBtn.disabled = false;
      }
    });
  
    cancelBtn.addEventListener('click', () => {
      input.value = "";
      okBtn.disabled = true;
      cancelBtn.disabled = true;
    });
  
    okBtn.addEventListener('click', () => {
      if (input.value.trim() !== "") {
        // TODO Post task to server
        console.log("Add task:", input.value);
        input.value = "";
        okBtn.disabled = true;
        cancelBtn.disabled = true;
      }
    });
</script>


  
{% endblock %}